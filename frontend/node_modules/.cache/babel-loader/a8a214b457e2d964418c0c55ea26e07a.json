{"ast":null,"code":"import { REMOVE_POST, ADD_POST, UPDATE_POST, VOTE, FETCH_TITLES } from \"../actions/types\";\n\nfunction sortByVote(posts) {\n  return posts.sort((a, b) => b.votes - a.votes);\n}\n\nfunction makeTitleFromPost({\n  id,\n  title,\n  description,\n  votes\n}) {\n  return {\n    id,\n    title,\n    description,\n    votes\n  };\n}\n\nexport default function rootReducer(state = [], action) {\n  switch (action.type) {\n    case FETCH_TITLES:\n      return sortByVote([...action.titles]);\n\n    case ADD_POST:\n      return sortByVote([...state, makeTitleFromPost(action.post)]);\n\n    case REMOVE_POST:\n      return state.filter(title => title.id !== action.postId);\n\n    case UPDATE_POST:\n      return state.map(title => title.id === action.post.id ? makeTitleFromPost(action.post) : title);\n\n    case VOTE:\n      return sortByVote(state.map(title => title.id === action.postId ? { ...title,\n        votes: action.votes\n      } : title));\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Users/rlhag/OneDrive/Desktop/Coding Pt 2/redux-microblog/frontend/src/reducers/titles.js"],"names":["REMOVE_POST","ADD_POST","UPDATE_POST","VOTE","FETCH_TITLES","sortByVote","posts","sort","a","b","votes","makeTitleFromPost","id","title","description","rootReducer","state","action","type","titles","post","filter","postId","map"],"mappings":"AAAA,SACEA,WADF,EAEEC,QAFF,EAGEC,WAHF,EAIEC,IAJF,EAIQC,YAJR,QAKO,kBALP;;AAOA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AACzB,SAAOA,KAAK,CAACC,IAAN,CAAW,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACC,KAAF,GAAUF,CAAC,CAACE,KAAjC,CAAP;AACD;;AAED,SAASC,iBAAT,CAA2B;AAACC,EAAAA,EAAD;AAAKC,EAAAA,KAAL;AAAYC,EAAAA,WAAZ;AAAyBJ,EAAAA;AAAzB,CAA3B,EAA4D;AAC1D,SAAO;AAACE,IAAAA,EAAD;AAAKC,IAAAA,KAAL;AAAYC,IAAAA,WAAZ;AAAyBJ,IAAAA;AAAzB,GAAP;AACD;;AAED,eAAe,SAASK,WAAT,CAAqBC,KAAK,GAAG,EAA7B,EAAiCC,MAAjC,EAAyC;AACtD,UAAQA,MAAM,CAACC,IAAf;AAEE,SAAKd,YAAL;AACE,aAAOC,UAAU,CAAC,CAAC,GAAGY,MAAM,CAACE,MAAX,CAAD,CAAjB;;AAEF,SAAKlB,QAAL;AACE,aAAOI,UAAU,CAAC,CAAC,GAAGW,KAAJ,EAAWL,iBAAiB,CAACM,MAAM,CAACG,IAAR,CAA5B,CAAD,CAAjB;;AAEF,SAAKpB,WAAL;AACE,aAAOgB,KAAK,CAACK,MAAN,CAAaR,KAAK,IAAIA,KAAK,CAACD,EAAN,KAAaK,MAAM,CAACK,MAA1C,CAAP;;AAEF,SAAKpB,WAAL;AACE,aAAOc,KAAK,CAACO,GAAN,CAAUV,KAAK,IAAIA,KAAK,CAACD,EAAN,KAAaK,MAAM,CAACG,IAAP,CAAYR,EAAzB,GACtBD,iBAAiB,CAACM,MAAM,CAACG,IAAR,CADK,GAEtBP,KAFG,CAAP;;AAIF,SAAKV,IAAL;AACE,aAAOE,UAAU,CAACW,KAAK,CAACO,GAAN,CACdV,KAAK,IAAIA,KAAK,CAACD,EAAN,KAAaK,MAAM,CAACK,MAApB,GAA6B,EAAE,GAAGT,KAAL;AAAYH,QAAAA,KAAK,EAAEO,MAAM,CAACP;AAA1B,OAA7B,GAAiEG,KAD5D,CAAD,CAAjB;;AAGF;AACE,aAAOG,KAAP;AArBJ;AAuBD","sourcesContent":["import {\n  REMOVE_POST,\n  ADD_POST,\n  UPDATE_POST,\n  VOTE, FETCH_TITLES,\n} from \"../actions/types\";\n\nfunction sortByVote(posts) {\n  return posts.sort((a, b) => b.votes - a.votes);\n}\n\nfunction makeTitleFromPost({id, title, description, votes}) {\n  return {id, title, description, votes};\n}\n\nexport default function rootReducer(state = [], action) {\n  switch (action.type) {\n\n    case FETCH_TITLES:\n      return sortByVote([...action.titles]);\n\n    case ADD_POST:\n      return sortByVote([...state, makeTitleFromPost(action.post)]);\n\n    case REMOVE_POST:\n      return state.filter(title => title.id !== action.postId);\n\n    case UPDATE_POST:\n      return state.map(title => title.id === action.post.id\n        ? makeTitleFromPost(action.post)\n        : title);\n\n    case VOTE:\n      return sortByVote(state.map(\n          title => title.id === action.postId ? { ...title, votes: action.votes } : title));\n\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}